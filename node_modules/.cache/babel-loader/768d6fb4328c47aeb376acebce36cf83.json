{"ast":null,"code":"import React,{useCallback,useEffect,useRef}from\"react\";import{createPortal}from\"react-dom\";import{disableBodyScroll,enableBodyScroll}from\"body-scroll-lock\";import OutsideClickHandler from\"react-outside-click-handler\";import cn from\"classnames\";import styles from\"./Modal.module.sass\";import Icon from\"../Icon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var outerClassName=_ref.outerClassName,containerClassName=_ref.containerClassName,visible=_ref.visible,onClose=_ref.onClose,children=_ref.children;var escFunction=useCallback(function(e){if(e.keyCode===27){onClose();}},[onClose]);useEffect(function(){document.addEventListener(\"keydown\",escFunction,false);return function(){document.removeEventListener(\"keydown\",escFunction,false);};},[escFunction]);var scrollRef=useRef(null);useEffect(function(){visible?disableBodyScroll(scrollRef):enableBodyScroll(scrollRef);},[visible]);return/*#__PURE__*/createPortal(visible&&/*#__PURE__*/_jsx(\"div\",{className:styles.modal,ref:scrollRef,children:/*#__PURE__*/_jsx(\"div\",{className:cn(styles.outer,outerClassName),children:/*#__PURE__*/_jsx(OutsideClickHandler,{onOutsideClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:cn(styles.container,containerClassName),children:[children,/*#__PURE__*/_jsx(\"button\",{className:styles.close,onClick:onClose,children:/*#__PURE__*/_jsx(Icon,{name:\"close\",size:\"14\"})})]})})})}),document.body);};export default Modal;","map":{"version":3,"sources":["/home/portfox/laravel_code/covid-react/app/src/components/Modal/index.js"],"names":["React","useCallback","useEffect","useRef","createPortal","disableBodyScroll","enableBodyScroll","OutsideClickHandler","cn","styles","Icon","Modal","outerClassName","containerClassName","visible","onClose","children","escFunction","e","keyCode","document","addEventListener","removeEventListener","scrollRef","modal","outer","container","close","body"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,MAAxC,KAAsD,OAAtD,CACA,OAASC,YAAT,KAA6B,WAA7B,CACA,OAASC,iBAAT,CAA4BC,gBAA5B,KAAoD,kBAApD,CACA,MAAOC,CAAAA,mBAAP,KAAgC,6BAAhC,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAMR,IALJC,CAAAA,cAKI,MALJA,cAKI,CAJJC,kBAII,MAJJA,kBAII,CAHJC,OAGI,MAHJA,OAGI,CAFJC,OAEI,MAFJA,OAEI,CADJC,QACI,MADJA,QACI,CACJ,GAAMC,CAAAA,WAAW,CAAGhB,WAAW,CAC7B,SAACiB,CAAD,CAAO,CACL,GAAIA,CAAC,CAACC,OAAF,GAAc,EAAlB,CAAsB,CACpBJ,OAAO,GACR,CACF,CAL4B,CAM7B,CAACA,OAAD,CAN6B,CAA/B,CASAb,SAAS,CAAC,UAAM,CACdkB,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCJ,WAArC,CAAkD,KAAlD,EACA,MAAO,WAAM,CACXG,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCL,WAAxC,CAAqD,KAArD,EACD,CAFD,CAGD,CALQ,CAKN,CAACA,WAAD,CALM,CAAT,CAOA,GAAMM,CAAAA,SAAS,CAAGpB,MAAM,CAAC,IAAD,CAAxB,CAEAD,SAAS,CAAC,UAAM,CACdY,OAAO,CAAGT,iBAAiB,CAACkB,SAAD,CAApB,CAAkCjB,gBAAgB,CAACiB,SAAD,CAAzD,CACD,CAFQ,CAEN,CAACT,OAAD,CAFM,CAAT,CAIA,mBAAOV,YAAY,CACjBU,OAAO,eACL,YAAK,SAAS,CAAEL,MAAM,CAACe,KAAvB,CAA8B,GAAG,CAAED,SAAnC,uBACE,YAAK,SAAS,CAAEf,EAAE,CAACC,MAAM,CAACgB,KAAR,CAAeb,cAAf,CAAlB,uBACE,KAAC,mBAAD,EAAqB,cAAc,CAAEG,OAArC,uBACE,aAAK,SAAS,CAAEP,EAAE,CAACC,MAAM,CAACiB,SAAR,CAAmBb,kBAAnB,CAAlB,WACGG,QADH,cAEE,eAAQ,SAAS,CAAEP,MAAM,CAACkB,KAA1B,CAAiC,OAAO,CAAEZ,OAA1C,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,OAAX,CAAmB,IAAI,CAAC,IAAxB,EADF,EAFF,GADF,EADF,EADF,EAFe,CAejBK,QAAQ,CAACQ,IAfQ,CAAnB,CAiBD,CA9CD,CAgDA,cAAejB,CAAAA,KAAf","sourcesContent":["import React, { useCallback, useEffect, useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\nimport cn from \"classnames\";\nimport styles from \"./Modal.module.sass\";\nimport Icon from \"../Icon\";\n\nconst Modal = ({\n  outerClassName,\n  containerClassName,\n  visible,\n  onClose,\n  children,\n}) => {\n  const escFunction = useCallback(\n    (e) => {\n      if (e.keyCode === 27) {\n        onClose();\n      }\n    },\n    [onClose]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  }, [escFunction]);\n\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    visible ? disableBodyScroll(scrollRef) : enableBodyScroll(scrollRef);\n  }, [visible]);\n\n  return createPortal(\n    visible && (\n      <div className={styles.modal} ref={scrollRef}>\n        <div className={cn(styles.outer, outerClassName)}>\n          <OutsideClickHandler onOutsideClick={onClose}>\n            <div className={cn(styles.container, containerClassName)}>\n              {children}\n              <button className={styles.close} onClick={onClose}>\n                <Icon name=\"close\" size=\"14\" />\n              </button>\n            </div>\n          </OutsideClickHandler>\n        </div>\n      </div>\n    ),\n    document.body\n  );\n};\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}